(this["webpackJsonpalbums-list"]=this["webpackJsonpalbums-list"]||[]).push([[0],{33:function(e,t,n){},36:function(e,t,n){},55:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(26),s=n.n(r),i=(n(33),n(1)),u=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:"Here "}),Object(i.jsx)("span",{children:"Goes "}),Object(i.jsx)("span",{children:"Something"})]})},l=n(11),o=n.n(l),j=n(13),b=n(8),h=n(2),d={development:{baseURL:"http://localhost:3004"},production:{baseURL:"https://irenaholjevac.com/albums/public"}},p=(n(36),function(e){var t=e.title,n=e.setSearch;return Object(i.jsx)("header",{children:Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:t}),n?Object(i.jsx)("div",{className:"search-wrapper",children:Object(i.jsx)("input",{type:"text",placeholder:"Search",onKeyDown:function(e){if("Enter"===e.key){var t=e.target.value.toLowerCase();n(t)}}})}):null]})})}),f=n(10),O=n(27),x=d.production,m=n.n(O).a.create({baseURL:x.baseURL}),v=(n(55),function(e){var t=e.album,n=e.author,a=Object(c.useState)(t.favorite),r=Object(b.a)(a,2),s=r[0],u=r[1],l=new Date(t.releaseDate),o=s?"Remove favorite":"Mark as favorite",j=s?"active":"",h=d.production;return Object(i.jsxs)("article",{children:[Object(i.jsxs)("div",{className:"album-wrapper",children:[Object(i.jsx)("img",{src:t.imageUrl,alt:"tmp"}),Object(i.jsxs)("div",{className:"name-wrapper",children:[Object(i.jsx)("h2",{children:Object(i.jsx)("cite",{children:t.title})}),Object(i.jsx)("address",{className:"gray-text",rel:"author",children:Object(i.jsx)(f.b,{to:"/artist/"+n.id,children:n.title})})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{className:"gray-text",children:"Released: "}),l.getFullYear()]}),Object(i.jsx)("div",{children:t.price}),Object(i.jsx)("div",{className:"mark-as-favorit ".concat(j),onClick:function(){m.patch("".concat(h.baseURL,"/albums/").concat(t.id),{favorite:!s}),u(!s)},children:o})]})});var g=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(b.a)(r,2),u=s[0],l=s[1],f=Object(c.useState)(""),O=Object(b.a)(f,2),x=O[0],m=O[1],g=d.production,L=[],w=Object(h.e)();function S(){return(S=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g.baseURL,"/artists/")).then((function(e){return e.json()}));case 2:return t=e.sent,e.next=5,fetch("".concat(g.baseURL,"/albums/")).then((function(e){return e.json()}));case 5:n=e.sent,a(n),l(t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(c.useEffect)((function(){!function(){S.apply(this,arguments)}()}),[x]),"?limit="===w.search.substr(0,7)){var R=w.search.match(/=([0-9]+)$/);L=R?n.slice(0,R[1]):n.slice(0,10)}else L=n.slice(0,10);if(x){for(var y=[],U=0;U<L.length;U++)L[U].title.toLowerCase().includes(x)&&y.push(L[U]);L=y}var k=L.map((function(e,t){var n=u.find((function(t){return t.id===e.artistId}));return Object(i.jsx)(v,{album:e,author:n,env:g},t)}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(p,{title:"Albums list",setSearch:m}),n.length?null:Object(i.jsx)("p",{children:"Loading albums..."}),u.length?k:null]})};var L=function(){var e=Object(h.f)().id,t=parseInt(e),n=Object(c.useState)([]),a=Object(b.a)(n,2),r=a[0],s=a[1],u=Object(c.useState)({}),l=Object(b.a)(u,2),f=l[0],O=l[1],x=d.production;function m(){return(m=Object(j.a)(o.a.mark((function e(){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(x.baseURL,"/artists/").concat(t)).then((function(e){return e.json()}));case 2:return n=e.sent,e.next=5,fetch("".concat(x.baseURL,"/albums/")).then((function(e){return e.json()}));case 5:c=e.sent,s(c),O(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=r.map((function(e,n){return e.artistId===t?Object(i.jsx)(v,{album:e,author:f},n):null}));return Object(c.useEffect)((function(){!function(){m.apply(this,arguments)}()}),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(p,{title:f.title}),r.length?null:Object(i.jsx)("p",{children:"Loading author's albums..."}),g]})};n(64);var w=function(){return Object(i.jsx)(f.a,{children:Object(i.jsxs)("div",{className:"app",children:[Object(i.jsx)(u,{}),Object(i.jsx)(h.a,{path:"/",exact:!0,component:g}),Object(i.jsx)(h.a,{path:"/artist/:id",exact:!0,component:L})]})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(w,{})}),document.getElementById("root")),S()}},[[65,1,2]]]);
//# sourceMappingURL=main.03d9f731.chunk.js.map