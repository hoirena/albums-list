{"version":3,"sources":["config/index.js","components/Header/index.jsx","axios/index.js","components/AlbumItem/index.jsx","pages/Home.js","pages/Artist.js","App.js","reportWebVitals.js","index.js"],"names":["env","development","baseURL","production","Header","title","setSearch","className","type","placeholder","onKeyDown","e","key","searchString","target","value","toLowerCase","config","axiosInstance","axios","create","AlbumItem","album","author","useState","favorite","setFavorite","date","Date","releaseDate","markFavoriteText","activeClass","useLocation","src","imageUrl","alt","rel","to","process","id","href","getFullYear","price","onClick","console","log","patch","Home","albums","setAlbums","authors","setAuthors","search","reducedAlbums","location","a","fetch","then","res","json","response","useEffect","fetchData","substr","limitRegEx","match","slice","searchedAlbums","i","length","includes","push","renderAlbums","map","index","find","artistId","Artist","useParams","idNum","parseInt","setAuthor","fetchAuthor","renderAuthorsAlbums","App","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.11d981cd.chunk.js","sourcesContent":["const env = {\r\n    development: {\r\n        baseURL: \"http://localhost:3004\",\r\n    },\r\n    production: {\r\n        baseURL: \"https://my-json-server.typicode.com/hoirena/albums-list\",\r\n    },\r\n}\r\n\r\nexport default env;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './Header.scss';\r\n\r\nconst Header = ({ title, setSearch }) => {\r\n    const search = () => {\r\n        const onKeyDown = (e) => {\r\n            if (e.key === 'Enter') {\r\n                const searchString = e.target.value.toLowerCase();\r\n                setSearch(searchString);\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div className=\"search-wrapper\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search\"\r\n                    onKeyDown={onKeyDown}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <header>\r\n            <div>\r\n                <h1>{title}</h1>\r\n                {setSearch ? search() : null}\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nHeader.propTypes = {\r\n    title: PropTypes.string,\r\n    setSearch: PropTypes.func\r\n}\r\n\r\nexport default Header;\r\n","import axios from \"axios\";\r\nimport config from \"../config\";\r\n\r\nconst env = config[process.env.NODE_ENV];\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: env.baseURL,\r\n});\r\n\r\nexport default axiosInstance;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from \"../../axios\";\r\n\r\nimport config from '../../config';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nimport './AlbumItem.scss';\r\n\r\nconst AlbumItem = ({ album, author }) => {\r\n    const [favorite, setFavorite] = useState(album.favorite);\r\n    const date = new Date(album.releaseDate);\r\n    const markFavoriteText = favorite ? \"Remove favorite\" : \"Mark as favorite\"\r\n    const activeClass = favorite ? \"active\" : \"\";\r\n    const env = config[process.env.NODE_ENV];\r\n    const location = useLocation();\r\n\r\n    const onClickHandler = () => {\r\n        console.log(\"------------ \" + `${env.baseURL}/albums/${album.id}`);\r\n        axios.patch(`${env.baseURL}/albums/${album.id}`, {favorite: !favorite});\r\n        setFavorite(!favorite);\r\n    }\r\n\r\n    return (\r\n        <article>\r\n            <div className=\"album-wrapper\">\r\n                <img src={album.imageUrl} alt=\"tmp\" />\r\n                <div className=\"name-wrapper\">\r\n                    <h2><cite>{album.title}</cite></h2>\r\n                    <address  className=\"gray-text\" rel=\"author\">\r\n                        <Link to={`${process.env.PUBLIC_URL}/artist/` + author.id}>\r\n                            {author.title}\r\n                        </Link>\r\n                        <a href={`${process.env.PUBLIC_URL}/artist/` + author.id}>lalala</a>\r\n                    </address>\r\n                </div>\r\n            </div>\r\n            <div><span className=\"gray-text\">Released: </span>{date.getFullYear()}</div>\r\n            <div>{album.price}</div>\r\n            <div className={`mark-as-favorit ${activeClass}`} onClick={() => {onClickHandler()}}>{markFavoriteText}</div>\r\n        </article>\r\n    );\r\n};\r\n\r\nAlbumItem.propTypes = {\r\n    album: PropTypes.object,\r\n    author: PropTypes.object,\r\n    env: PropTypes.object\r\n}\r\n\r\nexport default AlbumItem;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nimport config from '../config';\r\n\r\nimport Header from '../components/Header';\r\nimport AlbumItem from '../components/AlbumItem';\r\n\r\nfunction Home() {\r\n    //alert(2);\r\n    const [albums, setAlbums] = useState([]);\r\n    const [authors, setAuthors] = useState([]);\r\n    const [search, setSearch] = useState('');\r\n    const env = config[process.env.NODE_ENV];\r\n\r\n    let reducedAlbums = [];\r\n    let location = useLocation();\r\n\r\n    async function fetchData () {\r\n        //alert(1);\r\n        console.log(`${env.baseURL}/artists/`);\r\n        const authors = await fetch(`${env.baseURL}/artists/`).then(res => res.json());\r\n        const albums = await fetch(`${env.baseURL}/albums/`).then(response => response.json());\r\n        setAlbums(albums);\r\n        setAuthors(authors);\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, [search]);\r\n\r\n    if (location.search.substr(0, 7) === \"?limit=\") {\r\n        const limitRegEx = location.search.match(/=([0-9]+)$/);\r\n        reducedAlbums = limitRegEx ? albums.slice(0, limitRegEx[1]) : albums.slice(0, 10);\r\n    } else {\r\n        reducedAlbums = albums.slice(0, 10);\r\n    }\r\n\r\n    if (search) {\r\n        let searchedAlbums = [];\r\n        for (let i = 0; i<reducedAlbums.length; i++) {\r\n            if (reducedAlbums[i].title.toLowerCase().includes(search)) {\r\n                searchedAlbums.push(reducedAlbums[i]);\r\n            }\r\n        }\r\n        reducedAlbums = searchedAlbums;\r\n    }\r\n\r\n    const renderAlbums = reducedAlbums.map((album, index) => {\r\n        const author = authors.find(author => author.id === album.artistId);\r\n        return <AlbumItem album={album} author={author} key={index} env={env} />;\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <Header title=\"Albums list\" setSearch={setSearch} />\r\n            {!albums.length ? <p>Loading albums...</p> : null}\r\n            {authors.length ? renderAlbums : null}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport config from '../config';\r\n\r\nimport AlbumItem from '../components/AlbumItem';\r\nimport Header from '../components/Header';\r\n\r\nfunction Artist() {\r\n    const { id } = useParams();\r\n    const idNum = parseInt(id);\r\n    const [albums, setAlbums] = useState([]); \r\n    const [author, setAuthor] = useState({});\r\n    const env = config[process.env.NODE_ENV];\r\n\r\n    async function fetchData () {\r\n        const fetchAuthor = await fetch(`${env.baseURL}/artists/${idNum}`).then(res => res.json());\r\n        const albums = await fetch(`${env.baseURL}/albums/`).then(response => response.json());\r\n\r\n        setAlbums(albums);\r\n        setAuthor(fetchAuthor);\r\n    }\r\n\r\n    const renderAuthorsAlbums = albums.map((album, index) => {\r\n        if (album.artistId === idNum) {\r\n            return <AlbumItem album={album} author={author} key={index} />\r\n        } else {\r\n            return null;\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Header title={author.title} />\r\n            {!albums.length ? <p>Loading author's albums...</p> : null}\r\n            {renderAuthorsAlbums}\r\n        </>\r\n    )\r\n}\r\n\r\nArtist.propTypes = {\r\n    author: PropTypes.object\r\n}\r\n\r\nexport default Artist;\r\n","import React from 'react';\nimport Home from './pages/Home';\nimport Artist from './pages/Artist';\nimport { Route } from 'react-router-dom';\n\nimport './App.scss';\n\nfunction App() {\n//    const location = useLocation();\n//    console.log(\"LOCATION: \",  location);\n//    console.log(\"PUBLICC_URL---: \", `${process.env.PUBLIC_URL}/`);\n//    console.log(\"PRVI --->\", `${location.pathname}/`);\n    console.log(\"_CC___==*****vvC++__...>\", `${process.env.PUBLIC_URL}/`);\n    //alert(\"---x \", location);\n\n    return (\n        <div className=\"app\">\n            <Route path={`${process.env.PUBLIC_URL}/`} exact component={Home} />\n            <Route path={`${process.env.PUBLIC_URL}/artist/:id`} exact component={Artist} />\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}