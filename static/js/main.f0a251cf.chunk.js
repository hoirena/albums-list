(this["webpackJsonpalbums-list"]=this["webpackJsonpalbums-list"]||[]).push([[0],{32:function(t,e,c){},51:function(t,e,c){},53:function(t,e,c){},62:function(t,e,c){},63:function(t,e,c){"use strict";c.r(e);var a=c(0),n=c.n(a),s=c(25),r=c.n(s),i=(c(32),c(7)),l=c(3),o=c(26),u={development:{baseURL:"http://localhost:3004"},production:{baseURL:"https://albums-list-backend.glitch.me"}},b=u.production,j=c.n(o).a.create({baseURL:b.baseURL}),d=(c(51),c(1)),h=function(t){var e=t.title,c=t.setSearch;return Object(d.jsx)("header",{children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:e}),c?Object(d.jsx)("div",{className:"search-wrapper",children:Object(d.jsx)("input",{type:"text",placeholder:"Search",onKeyDown:function(t){if("Enter"===t.key){var e=t.target.value.toLowerCase();c(e)}}})}):null]})})},O=c(8),f=(c(53),function(t){var e=t.album,c=t.author,n=Object(a.useState)(e.favorite),s=Object(i.a)(n,2),r=s[0],l=s[1],o=new Date(e.releaseDate),b=r?"Remove favorite":"Mark as favorite",h=r?"active":"",f=u.production;return Object(d.jsxs)("article",{children:[Object(d.jsxs)("div",{className:"album-wrapper",children:[Object(d.jsx)("img",{src:e.imageUrl,alt:"tmp"}),Object(d.jsxs)("div",{className:"name-wrapper",children:[Object(d.jsx)("h2",{children:Object(d.jsx)("cite",{children:e.title})}),Object(d.jsx)("address",{className:"gray-text",rel:"author",children:Object(d.jsx)(O.b,{to:"".concat("/albums-list","/artist/")+c.id,children:c.title})})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"gray-text",children:"Released: "}),o.getFullYear()]}),Object(d.jsx)("div",{children:e.price}),Object(d.jsx)("div",{className:"mark-as-favorit ".concat(h),onClick:function(){j.patch("".concat(f.baseURL,"/albums/").concat(e.id),{favorite:!r}).then((function(t){console.log("patch response: ",t)})).catch((function(t){console.error(t.response)})),l(!r)},children:b})]})});var m=function(){var t=Object(a.useState)([]),e=Object(i.a)(t,2),c=e[0],n=e[1],s=Object(a.useState)([]),r=Object(i.a)(s,2),o=r[0],b=r[1],O=Object(a.useState)(""),m=Object(i.a)(O,2),p=m[0],v=m[1],x=u.production,g=[],L=Object(l.e)();if(Object(a.useEffect)((function(){j.get("".concat(x.baseURL,"/artists/")).then((function(t){return b(t.data)})),j.get("".concat(x.baseURL,"/albums/")).then((function(t){return n(t.data)}))}),[p,x]),"?limit="===L.search.substr(0,7)){var R=L.search.match(/=([0-9]+)$/);g=R?c.slice(0,R[1]):c.slice(0,10)}else g=c.slice(0,10);if(p){for(var S=[],U=0;U<g.length;U++)g[U].title.toLowerCase().includes(p)&&S.push(g[U]);g=S}var w=g.map((function(t,e){var c=null===o||void 0===o?void 0:o.find((function(e){return e.id===t.artistId}));return Object(d.jsx)(f,{album:t,author:c,env:x},e)}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(h,{title:"Albums list",setSearch:v}),c.length?null:Object(d.jsx)("p",{children:"Loading albums..."}),o.length?w:null]})};var p=function(){var t=Object(l.f)().id,e=parseInt(t),c=Object(a.useState)([]),n=Object(i.a)(c,2),s=n[0],r=n[1],o=Object(a.useState)({}),b=Object(i.a)(o,2),O=b[0],m=b[1],p=u.production,v=s.map((function(t,c){return t.artistId===e?Object(d.jsx)(f,{album:t,author:O},c):null}));return Object(a.useEffect)((function(){j.get("".concat(p.baseURL,"/artists/").concat(e)).then((function(t){return m(t.data)})),j.get("".concat(p.baseURL,"/albums/")).then((function(t){return r(t.data)}))}),[p,e]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(h,{title:null===O||void 0===O?void 0:O.title}),s.length?null:Object(d.jsx)("p",{children:"Loading author's albums..."}),v]})};c(62);var v=function(){return Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)(l.a,{path:"".concat("/albums-list","/"),exact:!0,component:m}),Object(d.jsx)(l.a,{path:"".concat("/albums-list","/artist/:id"),component:p})]})},x=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,64)).then((function(e){var c=e.getCLS,a=e.getFID,n=e.getFCP,s=e.getLCP,r=e.getTTFB;c(t),a(t),n(t),s(t),r(t)}))};r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(O.a,{children:Object(d.jsx)(v,{})})}),document.getElementById("root")),x()}},[[63,1,2]]]);
//# sourceMappingURL=main.f0a251cf.chunk.js.map