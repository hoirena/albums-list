{"version":3,"sources":["config/index.js","axios/index.js","components/Header/index.jsx","components/AlbumItem/index.jsx","pages/Home.js","pages/Artist.js","App.js","reportWebVitals.js","index.js"],"names":["env","development","baseURL","production","config","axiosInstance","axios","create","Header","title","setSearch","className","type","placeholder","onKeyDown","e","key","searchString","target","value","toLowerCase","AlbumItem","album","author","useState","favorite","setFavorite","date","Date","releaseDate","markFavoriteText","activeClass","src","imageUrl","alt","rel","to","process","id","getFullYear","price","onClick","patch","then","res","console","log","catch","error","response","Home","albums","setAlbums","authors","setAuthors","search","reducedAlbums","location","useLocation","useEffect","get","data","substr","limitRegEx","match","slice","searchedAlbums","i","length","includes","push","renderAlbums","map","index","find","artistId","Artist","useParams","idNum","parseInt","setAuthor","renderAuthorsAlbums","App","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f0a251cf.chunk.js","sourcesContent":["const env = {\r\n    development: {\r\n        baseURL: \"http://localhost:3004\",\r\n    },\r\n    production: {\r\n        baseURL: \"https://albums-list-backend.glitch.me\",\r\n    },\r\n}\r\n\r\nexport default env;\r\n","import axios from \"axios\";\r\nimport config from \"../config\";\r\n\r\nconst env = config[process.env.NODE_ENV];\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: env.baseURL,\r\n});\r\n\r\nexport default axiosInstance;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './Header.scss';\r\n\r\nconst Header = ({ title, setSearch }) => {\r\n    const renderSearch = () => {\r\n        const onKeyDown = (e) => {\r\n            if (e.key === 'Enter') {\r\n                const searchString = e.target.value.toLowerCase();\r\n                setSearch(searchString);\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div className=\"search-wrapper\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search\"\r\n                    onKeyDown={onKeyDown}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <header>\r\n            <div>\r\n                <h1>{title}</h1>\r\n                {setSearch ? renderSearch() : null}\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nHeader.propTypes = {\r\n    title: PropTypes.string,\r\n    setSearch: PropTypes.func\r\n}\r\n\r\nexport default Header;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from \"../../axios\";\r\n\r\nimport config from '../../config';\r\n\r\nimport './AlbumItem.scss';\r\n\r\nconst AlbumItem = ({ album, author }) => {\r\n    const [favorite, setFavorite] = useState(album.favorite);\r\n    const date = new Date(album.releaseDate);\r\n    const markFavoriteText = favorite ? \"Remove favorite\" : \"Mark as favorite\"\r\n    const activeClass = favorite ? \"active\" : \"\";\r\n    const env = config[process.env.NODE_ENV];\r\n\r\n    const onClickHandler = () => {\r\n        axios.patch(`${env.baseURL}/albums/${album.id}`, {favorite: !favorite}).then(res => {\r\n            console.log('patch response: ', res);\r\n        }).catch(error => {\r\n            console.error(error.response);\r\n        })\r\n        setFavorite(!favorite);\r\n    }\r\n\r\n    return (\r\n        <article>\r\n            <div className=\"album-wrapper\">\r\n                <img src={album.imageUrl} alt=\"tmp\" />\r\n                <div className=\"name-wrapper\">\r\n                    <h2><cite>{album.title}</cite></h2>\r\n                    <address  className=\"gray-text\" rel=\"author\">\r\n                        <Link to={`${process.env.PUBLIC_URL}/artist/` + author.id}>\r\n                            {author.title}\r\n                        </Link>\r\n                    </address>\r\n                </div>\r\n            </div>\r\n            <div><span className=\"gray-text\">Released: </span>{date.getFullYear()}</div>\r\n            <div>{album.price}</div>\r\n            <div className={`mark-as-favorit ${activeClass}`} onClick={() => {onClickHandler()}}>{markFavoriteText}</div>\r\n        </article>\r\n    );\r\n};\r\n\r\nAlbumItem.propTypes = {\r\n    album: PropTypes.object,\r\n    author: PropTypes.object,\r\n    env: PropTypes.object\r\n}\r\n\r\nexport default AlbumItem;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport axios from \"../axios\";\r\n\r\nimport config from '../config';\r\n\r\nimport Header from '../components/Header';\r\nimport AlbumItem from '../components/AlbumItem';\r\n\r\nfunction Home() {\r\n    const [albums, setAlbums] = useState([]);\r\n    const [authors, setAuthors] = useState([]);\r\n    const [search, setSearch] = useState('');\r\n    const env = config[process.env.NODE_ENV];\r\n\r\n    let reducedAlbums = [];\r\n    let location = useLocation();\r\n\r\n    function fetchData () {\r\n        axios.get(`${env.baseURL}/artists/`).then(response => setAuthors(response.data));\r\n        axios.get(`${env.baseURL}/albums/`).then(response => setAlbums(response.data));\r\n    }\r\n\r\n    useEffect(fetchData, [search, env]);\r\n\r\n    if (location.search.substr(0, 7) === \"?limit=\") {\r\n        const limitRegEx = location.search.match(/=([0-9]+)$/);\r\n        reducedAlbums = limitRegEx ? albums.slice(0, limitRegEx[1]) : albums.slice(0, 10);\r\n    } else {\r\n        reducedAlbums = albums.slice(0, 10);\r\n    }\r\n\r\n    if (search) {\r\n        let searchedAlbums = [];\r\n        for (let i = 0; i<reducedAlbums.length; i++) {\r\n            if (reducedAlbums[i].title.toLowerCase().includes(search)) {\r\n                searchedAlbums.push(reducedAlbums[i]);\r\n            }\r\n        }\r\n        reducedAlbums = searchedAlbums;\r\n    }\r\n\r\n    const renderAlbums = reducedAlbums.map((album, index) => {\r\n        const author = authors?.find(author => author.id === album.artistId);\r\n        return <AlbumItem album={album} author={author} key={index} env={env} />;\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <Header title=\"Albums list\" setSearch={setSearch} />\r\n            {!albums.length ? <p>Loading albums...</p> : null}\r\n            {authors.length ? renderAlbums : null}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from \"../axios\";\r\n\r\nimport config from '../config';\r\n\r\nimport AlbumItem from '../components/AlbumItem';\r\nimport Header from '../components/Header';\r\n\r\nfunction Artist() {\r\n    const { id } = useParams();\r\n    const idNum = parseInt(id);\r\n    const [albums, setAlbums] = useState([]); \r\n    const [author, setAuthor] = useState({});\r\n    const env = config[process.env.NODE_ENV];\r\n\r\n    function fetchData () {\r\n        axios.get(`${env.baseURL}/artists/${idNum}`).then(response => setAuthor(response.data));\r\n        axios.get(`${env.baseURL}/albums/`).then(response => setAlbums(response.data));\r\n    }\r\n\r\n    const renderAuthorsAlbums = albums.map((album, index) => {\r\n        if (album.artistId === idNum) {\r\n            return <AlbumItem album={album} author={author} key={index} />\r\n        } else {\r\n            return null;\r\n        }\r\n    });\r\n\r\n    useEffect(fetchData, [env, idNum]);\r\n\r\n    return (\r\n        <>\r\n            <Header title={ author?.title} />\r\n            {!albums.length ? <p>Loading author's albums...</p> : null}\r\n            {renderAuthorsAlbums}\r\n        </>\r\n    )\r\n}\r\n\r\nArtist.propTypes = {\r\n    author: PropTypes.object\r\n}\r\n\r\nexport default Artist;\r\n","import React from 'react';\nimport Home from './pages/Home';\nimport Artist from './pages/Artist';\nimport { Route } from 'react-router-dom';\n\nimport './App.scss';\n\nfunction App() {\n    return (\n        <div className=\"app\">\n            <Route path={`${process.env.PUBLIC_URL}/`} exact component={Home} />\n            <Route path={`${process.env.PUBLIC_URL}/artist/:id`} component={Artist} />\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n"],"sourceRoot":""}